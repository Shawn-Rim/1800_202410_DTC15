# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Firebae

on: pull_request

permissions:
    checks: write
    contents: read
    pull-requests: write

jobs:
    preview:
        name: Preview
        if: "${{ github.event.pull_request.head.repo.full_name == github.repository }}"
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4

            - name: Inject Firebase configuration
              run: echo "${{ secrets.FIREBASE_CONFIGURATION }}" | base64 -d > scripts/FirebaseAPI_DTC15.js

            - uses: FirebaseExtended/action-hosting-deploy@v0
              with:
                  repoToken: "${{ secrets.GITHUB_TOKEN }}"
                  firebaseServiceAccount: "${{ secrets.FIREBASE_SERVICE_ACCOUNT_COMP1800_202410_DTC_15 }}"
                  projectId: comp1800-202410-dtc-15
